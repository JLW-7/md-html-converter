<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Markdown ‚Üî HTML Converter</title>
  <meta name="description" content="A clean, fast online converter between Markdown and HTML. Convert in real-time, preview live, copy or download your output instantly." />
  <meta property="og:title" content="Markdown ‚Üî HTML Converter" />
  <meta property="og:description" content="A clean, fast online converter between Markdown and HTML. Convert in real-time, preview live, copy or download your output instantly." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://jlw-7.github.io/md-html-converter/convert/" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìù</text></svg>" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- Tailwind typography plugin (for prose list/heading rendering in preview) -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

  <!-- Converters + Sanitizer -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/turndown/dist/turndown.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:        #09090f;
      --surface:   rgba(255,255,255,0.04);
      --surface2:  rgba(255,255,255,0.025);
      --border:    rgba(255,255,255,0.08);
      --border-hl: rgba(139,92,246,0.5);
      --text:      #f4f4f5;
      --muted:     #71717a;
      --muted2:    #52525b;
      --accent1:   #a78bfa;
      --accent2:   #818cf8;
      --accent3:   #60a5fa;
      --green:     #4ade80;
      --red-muted: rgba(239,68,68,0.15);
      --red-text:  #f87171;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ Backgrounds ‚îÄ‚îÄ */
    #star-canvas {
      position: fixed; inset: 0;
      z-index: 0; pointer-events: none;
    }
    .orb {
      position: fixed; border-radius: 50%;
      filter: blur(120px); pointer-events: none; z-index: 0;
    }
    .orb-1 {
      width: 600px; height: 400px;
      top: -160px; left: 50%; transform: translateX(-50%);
      background: radial-gradient(ellipse, rgba(109,40,217,0.13) 0%, transparent 70%);
    }
    .orb-2 {
      width: 320px; height: 320px;
      bottom: 0; right: -80px;
      background: radial-gradient(ellipse, rgba(59,130,246,0.07) 0%, transparent 70%);
    }

    /* ‚îÄ‚îÄ Nav ‚îÄ‚îÄ */
    nav {
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 50; height: 60px;
      display: flex; align-items: center;
      padding: 0 1.5rem;
      background: rgba(9,9,15,0.65);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }
    .nav-inner {
      max-width: 1280px; width: 100%; margin: 0 auto;
      display: flex; align-items: center; justify-content: space-between;
    }
    .nav-logo {
      font-size: 0.875rem; font-weight: 600; color: var(--text);
    }
    .nav-logo span {
      background: linear-gradient(135deg, var(--accent1), var(--accent3));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .nav-links { display: flex; gap: 0.5rem; }

    /* ‚îÄ‚îÄ Buttons ‚îÄ‚îÄ */
    .btn {
      display: inline-flex; align-items: center; gap: 0.35rem;
      font-family: inherit; font-size: 0.8125rem; font-weight: 500;
      padding: 0.45rem 1rem; border-radius: 999px;
      border: none; cursor: pointer; text-decoration: none;
      transition: transform 0.18s, box-shadow 0.18s, background 0.18s;
      white-space: nowrap;
    }
    .btn-primary {
      background: linear-gradient(135deg, #7c3aed, #6366f1);
      color: #fff;
      box-shadow: 0 0 16px rgba(124,58,237,0.3);
    }
    .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 0 26px rgba(124,58,237,0.5); }
    .btn-glass {
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      color: #d4d4d8;
    }
    .btn-glass:hover { background: rgba(255,255,255,0.09); transform: translateY(-1px); }
    .btn-danger {
      background: var(--red-muted);
      border: 1px solid rgba(239,68,68,0.2);
      color: var(--red-text);
    }
    .btn-danger:hover { background: rgba(239,68,68,0.22); transform: translateY(-1px); }
    .btn-lg { padding: 0.6rem 1.4rem; font-size: 0.875rem; }

    /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */
    main {
      flex: 1; position: relative; z-index: 1;
      padding: 80px 1.25rem 2rem;
      max-width: 1280px; width: 100%; margin: 0 auto;
    }
    footer { position: relative; z-index: 1; }

    /* ‚îÄ‚îÄ Toolbar row ‚îÄ‚îÄ */
    .toolbar {
      display: flex; align-items: center; gap: 0.75rem;
      margin-bottom: 1.25rem;
    }
    .toolbar-label { font-size: 0.8rem; color: var(--muted); font-weight: 500; }

    /* Custom select */
    .custom-select {
      appearance: none;
      font-family: inherit;
      font-size: 0.8125rem;
      font-weight: 500;
      color: var(--text);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 0.625rem;
      padding: 0.4rem 2rem 0.4rem 0.75rem;
      cursor: pointer;
      outline: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2371717a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.6rem center;
      transition: border-color 0.2s;
    }
    .custom-select:hover, .custom-select:focus { border-color: rgba(139,92,246,0.4); }
    .custom-select option { background: #1a1a2e; }

    /* ‚îÄ‚îÄ Editor grid ‚îÄ‚îÄ */
    .editor-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.25rem;
    }
    @media (max-width: 768px) { .editor-grid { grid-template-columns: 1fr; } }

    /* ‚îÄ‚îÄ Panel ‚îÄ‚îÄ */
    .panel { display: flex; flex-direction: column; }
    .panel-header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 0.625rem; min-height: 32px;
    }
    .panel-label {
      font-size: 0.75rem; font-weight: 600;
      color: var(--muted); text-transform: uppercase; letter-spacing: 0.06em;
    }
    .panel-controls { display: flex; align-items: center; gap: 0.625rem; }

    /* Code/Preview toggle pill */
    .toggle-pill {
      display: flex;
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      padding: 2px;
      gap: 2px;
    }
    .toggle-pill button {
      font-family: inherit; font-size: 0.72rem; font-weight: 500;
      padding: 0.25rem 0.7rem; border-radius: 5px;
      border: none; cursor: pointer; color: var(--muted);
      background: transparent;
      transition: background 0.15s, color 0.15s;
    }
    .toggle-pill button.active {
      background: rgba(139,92,246,0.18);
      color: var(--accent1);
    }

    /* Copy button */
    .copy-btn {
      font-family: inherit; font-size: 0.72rem; font-weight: 500;
      padding: 0.28rem 0.75rem; border-radius: 0.5rem;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--muted);
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s, color 0.15s;
    }
    .copy-btn:hover { background: rgba(139,92,246,0.12); border-color: rgba(139,92,246,0.3); color: var(--accent1); }

    .copy-success {
      font-size: 0.72rem; color: var(--green);
      display: none;
    }

    /* ‚îÄ‚îÄ Textarea & preview ‚îÄ‚îÄ */
    .editor-area {
      font-family: 'JetBrains Mono', ui-monospace, monospace;
      font-size: 0.8125rem;
      line-height: 1.65;
      tab-size: 2;
      height: 460px;
      resize: none;
      width: 100%;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 0.875rem;
      padding: 1rem 1.125rem;
      color: var(--text);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .editor-area:focus {
      border-color: rgba(139,92,246,0.45);
      box-shadow: 0 0 0 3px rgba(139,92,246,0.08), inset 0 0 20px rgba(139,92,246,0.02);
    }
    .editor-area::placeholder { color: var(--muted2); }
    .editor-area[readonly] { cursor: default; color: #a1a1aa; }

    /* Preview div (prose from Tailwind typography) */
    #preview {
      height: 460px;
      overflow-y: auto;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 0.875rem;
      padding: 1rem 1.125rem;
      display: none;
    }

    /* Stats line */
    .stats {
      font-size: 0.7rem;
      color: var(--muted2);
      text-align: right;
      margin-top: 0.375rem;
    }

    /* ‚îÄ‚îÄ Actions ‚îÄ‚îÄ */
    .actions {
      display: flex; justify-content: center;
      gap: 0.625rem; flex-wrap: wrap;
      margin-top: 1.75rem;
    }

    /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
    footer {
      padding: 1.5rem;
      text-align: center;
      font-size: 0.8rem;
      color: var(--muted);
      border-top: 1px solid rgba(255,255,255,0.05);
      margin-top: 2rem;
    }
    footer a { color: #e4e4e7; text-decoration: none; font-weight: 500; }
    footer a:hover { text-decoration: underline; }

    /* Thin scrollbar */
    ::-webkit-scrollbar { width: 5px; height: 5px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 99px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.18); }
  </style>
</head>

<body>
  <!-- Backgrounds -->
  <canvas id="star-canvas"></canvas>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>

  <!-- NAV -->
  <nav>
    <div class="nav-inner">
      <div class="nav-logo">Marky <span>‚Üî</span></div>
      <div class="nav-links">
        <a href="../index.html" class="btn btn-primary">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
          Home
        </a>
        <a href="https://github.com/JLW-7/md-html-converter" target="_blank" rel="noopener" class="btn btn-glass">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844a9.59 9.59 0 0 1 2.504.337c1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.02 10.02 0 0 0 22 12.017C22 6.484 17.522 2 12 2Z"/></svg>
          Star on GitHub
        </a>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main>
    <!-- Direction selector -->
    <div class="toolbar">
      <span class="toolbar-label">Convert</span>
      <select id="convertDirection" class="custom-select">
        <option value="md-to-html">Markdown ‚Üí HTML</option>
        <option value="html-to-md">HTML ‚Üí Markdown</option>
      </select>
    </div>

    <!-- Editor columns -->
    <div class="editor-grid">

      <!-- INPUT -->
      <div class="panel">
        <div class="panel-header">
          <span id="inputType" class="panel-label">Markdown</span>
          <div class="panel-controls">
            <div class="toggle-pill">
              <button id="showCode" class="active">Code</button>
              <button id="showPreview">Preview</button>
            </div>
          </div>
        </div>

        <textarea
          id="markdown"
          class="editor-area"
          placeholder="# Hello World&#10;&#10;- Type or paste your Markdown here‚Ä¶&#10;- See the converted HTML on the right!"
        ></textarea>

        <div id="preview" class="prose prose-invert max-w-none text-sm"></div>

        <p id="inputStats" class="stats">0 chars ¬∑ 0 lines</p>
      </div>

      <!-- OUTPUT -->
      <div class="panel">
        <div class="panel-header">
          <span id="outputType" class="panel-label">HTML</span>
          <div class="panel-controls">
            <span id="copySuccess" class="copy-success">‚úì Copied!</span>
            <button id="copyOutputBtn" class="copy-btn">Copy</button>
          </div>
        </div>

        <textarea id="html" readonly class="editor-area"></textarea>

        <p id="outputStats" class="stats">0 chars ¬∑ 0 lines</p>
      </div>

    </div>

    <!-- ACTIONS -->
    <div class="actions">
      <button id="downloadOutput" class="btn btn-primary btn-lg">Download HTML</button>
      <button id="downloadInput"  class="btn btn-glass btn-lg">Download Markdown</button>
      <button id="clearBtn"       class="btn btn-danger btn-lg">Clear All</button>
    </div>

    <!-- FOOTER -->
    <footer>
      Made with ‚ô• by <a href="https://julyw.com" target="_blank" rel="noopener">July Wu</a>.
      Open source on <a href="https://github.com/JLW-7/md-html-converter" target="_blank" rel="noopener">GitHub</a>.
    </footer>
  </main>

  <!-- Star field -->
  <script>
    (function () {
      const canvas = document.getElementById('star-canvas');
      const ctx    = canvas.getContext('2d');
      let stars    = [];
      function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
      function initStars(n) {
        stars = [];
        for (let i = 0; i < n; i++) {
          stars.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            r: Math.random() * 0.9 + 0.1,
            alpha: Math.random(),
            speed: (Math.random() * 0.003 + 0.001) * (Math.random() < 0.5 ? 1 : -1),
          });
        }
      }
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (const s of stars) {
          s.alpha += s.speed;
          if (s.alpha > 0.8 || s.alpha < 0.04) s.speed = -s.speed;
          ctx.beginPath();
          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,255,255,${s.alpha.toFixed(3)})`;
          ctx.fill();
        }
        requestAnimationFrame(draw);
      }
      window.addEventListener('resize', () => { resize(); initStars(130); });
      resize(); initStars(130); draw();
    })();
  </script>

  <!-- Converter logic -->
  <script>
    const convertDirection  = document.getElementById('convertDirection');
    const markdownInput     = document.getElementById('markdown');
    const htmlOutput        = document.getElementById('html');
    const previewDiv        = document.getElementById('preview');
    const showCodeBtn       = document.getElementById('showCode');
    const showPreviewBtn    = document.getElementById('showPreview');
    const copyOutputBtn     = document.getElementById('copyOutputBtn');
    const copySuccess       = document.getElementById('copySuccess');
    const clearBtn          = document.getElementById('clearBtn');
    const downloadOutputBtn = document.getElementById('downloadOutput');
    const downloadInputBtn  = document.getElementById('downloadInput');
    const inputType         = document.getElementById('inputType');
    const outputType        = document.getElementById('outputType');
    const inputStats        = document.getElementById('inputStats');
    const outputStats       = document.getElementById('outputStats');

    function updateLabels() {
      const isMdToHtml = convertDirection.value === 'md-to-html';
      inputType.textContent  = isMdToHtml ? 'Markdown' : 'HTML';
      outputType.textContent = isMdToHtml ? 'HTML'     : 'Markdown';
      downloadOutputBtn.textContent = isMdToHtml ? 'Download HTML'     : 'Download Markdown';
      downloadInputBtn.textContent  = isMdToHtml ? 'Download Markdown' : 'Download HTML';
      markdownInput.placeholder = isMdToHtml
        ? "# Hello World\n\n- Type or paste your Markdown here‚Ä¶\n- See the converted HTML on the right!"
        : "<h1>Hello World</h1>\n\n<ul>\n  <li>Type or paste your HTML here‚Ä¶</li>\n  <li>See the converted Markdown on the right!</li>\n</ul>";
    }

    function updateStats() {
      const iv = markdownInput.value, ov = htmlOutput.value;
      inputStats.textContent  = `${iv.length} chars ¬∑ ${iv === '' ? 0 : iv.split('\n').length} lines`;
      outputStats.textContent = `${ov.length} chars ¬∑ ${ov === '' ? 0 : ov.split('\n').length} lines`;
    }

    function convert() {
      const isMdToHtml = convertDirection.value === 'md-to-html';
      let result;
      if (isMdToHtml) {
        result = marked.parse(markdownInput.value);
      } else {
        result = new TurndownService().turndown(markdownInput.value);
      }
      htmlOutput.value = result;
      if (!previewDiv.classList.contains('hidden') && previewDiv.style.display !== 'none') {
        previewDiv.innerHTML = DOMPurify.sanitize(isMdToHtml ? result : markdownInput.value);
      }
      updateStats();
    }

    convertDirection.addEventListener('change', () => { updateLabels(); convert(); });
    markdownInput.addEventListener('input', convert);

    showCodeBtn.addEventListener('click', () => {
      showCodeBtn.classList.add('active');
      showPreviewBtn.classList.remove('active');
      markdownInput.style.display = '';
      previewDiv.style.display    = 'none';
    });

    showPreviewBtn.addEventListener('click', () => {
      showPreviewBtn.classList.add('active');
      showCodeBtn.classList.remove('active');
      markdownInput.style.display = 'none';
      previewDiv.style.display    = 'block';
      convert();
    });

    copyOutputBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(htmlOutput.value).then(() => {
        copySuccess.style.display = 'inline';
        setTimeout(() => { copySuccess.style.display = 'none'; }, 2000);
      }).catch(() => alert('Failed to copy. Please copy manually.'));
    });

    clearBtn.addEventListener('click', () => {
      markdownInput.value  = '';
      htmlOutput.value     = '';
      previewDiv.innerHTML = '';
      updateStats();
    });

    downloadOutputBtn.addEventListener('click', () => {
      const isMdToHtml = convertDirection.value === 'md-to-html';
      triggerDownload(htmlOutput.value, isMdToHtml ? 'text/html' : 'text/markdown', isMdToHtml ? 'converted.html' : 'converted.md');
    });

    downloadInputBtn.addEventListener('click', () => {
      const isMdToHtml = convertDirection.value === 'md-to-html';
      triggerDownload(markdownInput.value, isMdToHtml ? 'text/markdown' : 'text/html', isMdToHtml ? 'source.md' : 'source.html');
    });

    function triggerDownload(content, mimeType, filename) {
      const blob = new Blob([content], { type: mimeType });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = filename;
      a.click();
      URL.revokeObjectURL(a.href);
    }

    markdownInput.addEventListener('keydown', e => {
      if (e.key === 'Tab') {
        e.preventDefault();
        const start = markdownInput.selectionStart;
        const end   = markdownInput.selectionEnd;
        markdownInput.value = markdownInput.value.substring(0, start) + '  ' + markdownInput.value.substring(end);
        markdownInput.selectionStart = markdownInput.selectionEnd = start + 2;
      }
    });

    updateLabels();
    updateStats();
  </script>
</body>
</html>
